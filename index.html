<script>
  async function sendMessage() {
    const input = document.getElementById('userInput');
    const chat = document.getElementById('chat');
    const userMsg = input.value.trim();
    if (!userMsg) return;

    chat.innerHTML += `<div class="user"><strong>You:</strong> ${userMsg}</div>`;

    // Send the message to your Codesandbox backend!
    const response = await fetch('https://g4q2gy-3000.csb.app/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message: userMsg })
    });

    const data = await response.json();

    chat.innerHTML += `<div class="osel"><strong>Osel:</strong> ${data.reply}</div>`;
    chat.scrollTop = chat.scrollHeight;

    input.value = '';
    chat.scrollTop = chat.scrollHeight;
  }
</script>
